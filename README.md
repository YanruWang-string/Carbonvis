# Carbonvis
## 项目成果
- - -
- CCF C论文一篇
《Construction and Visual Validation of Low-carbon Development Evaluation System for Urban Agglomerations》
- 中国虚拟现实大赛国家级一等奖

## 技术栈
- - -
- 前端相关：Vue、Vue Router、ES6、D3.js、Echarts、Leaflet(地图JS库)
- 算法相关：Pandas、Flask、Numpy、熵权-Topsis、GeoDetector、莫兰指数分类、引力熵模型
  
## 项目环境
- - -
* python3.10 *(自行安装)*
* python3.10
* Vue2
* bootstrap.min.js
* d3.v7.js 
* echarts.js
* leaflet.js
  
## 系统展示
- - -
<img src="https://github.com/user-attachments/assets/cb952e73-fa44-4447-a622-c7048448d25f" width="990" />

#### (A)城市群的空间分布格局以及城市的低碳关联网络. (B)低碳发展高维特征画像模块直观地展现了城市群的差异性. (C)特征河流图, 显示不同年份影响因素关联关系变化特征. (D)指标的晴雨表可视化. (E)事件探索模块, 呈现对比不同城市LCDU和影响因素变化情况. 当用户鼠标悬浮于小倍图部分时, 图表以浮窗形式展现并放大以增强其可视性.


## 项目概述
- - -
#### 背景
- 在”碳达峰、碳中和” 背景下, 建设低碳型城市是绿色转型的内在需求, 是实现城市可持续发展的重要选择, 在全球碳减排中具有重要意义。
- 评估城市低碳发展水平, 挖掘其影响因素, 有助于政府部门制定相关对策措施, 为制定低碳可持续发展战略提供宝贵的意见。
- 传统碳排放研究的注意力大多集中在对单个城市, 而在分析城市之间的关联关系方面较为薄弱, 鲜有探究城市群空间格局对城市低碳发展水平的影响和对城市群低碳发展差异性深入剖析的研究工作。 
- 目前的工作在对评估结果追踪溯源, 以及深入探究影响因素方面较为薄弱, 其评估结果也缺乏可解释。
  
#### 数据概述
城市低碳发展包括社会经济、交通水平、能源利用和生态环境等综合发展, 因此我们从这四个角度构建指标向量集。 基于已有研究从社会因素中选取19个具备代表性的指标作为评估依据， 数据范围在2010-2019年间, 数据源于“中国统计年鉴”和国家统计局等。
![image](https://github.com/user-attachments/assets/2434071e-32a9-4bbe-a6f6-0834b1806ea7)

#### 本文方法
为了评估城市低碳发展水平，挖掘影响因素，我们构建了如下分析框架：
<img src="https://github.com/user-attachments/assets/786fb6e6-e9f0-4dc4-bf7d-7d5a423c03a3" width="990" />


LCDE (A) 和交互流程(B). 我们首先构建(A1)指标向量集, 基于该集合计算低碳发展指标(A2) . 在城市低碳发展水平量化值上划分城市群并建立城市关联网络(A3) , 同时挖掘城市群的低碳发展特征(A4) . 基于LCDE生成LCDVis的交互工作流(B)：(B1) 城市群空间探索, (B2)低碳发展特征探索, (B3) 城市对比呈现.


## 可视化组件设计：
<img src="https://github.com/user-attachments/assets/cd0d3d41-805e-4cd0-9155-c4398e1551a5" width="500" />

- 面向城市群的低碳发展高维画像, 分别量化表示城市低碳发展水平、准则层负向驱动力, 指标层负向驱动力和正向驱动力.
- 颜色编码经济、交通、能源、环境四类指标, 最外层条形图高度代表城市低碳发展水平量化值.
- 中间环形表示准则层的负驱动力, 气泡表示指标层的负驱动力, 其弧长和半径分别编码阻碍强度.
- 最内层的径向条形表示指标层的正向驱动力, 高度编码对低碳发展水平的促进作用. 当鼠标悬浮至上述元素上, 该元素的标签将放大显示. 

<img src="https://github.com/user-attachments/assets/1c16ef4c-0774-4855-8a4e-7248ee20d202" width="500" />

- 为了探究影响因素之间的相互作用对低碳发展水平的影响, 以及影响因素关联强度随时间的变化特征, 我们设计特征河流图的视觉编码以支持多个指标的定性和量化对比.
- 颜色编码影响因素, 时间由纵轴编码, 横向宽度表示因素关联强度, 加粗的线段表示该影响因素在该年关联程度呈现最大.
- 当我们想要探索一个影响因素与其他影响因素关联关系时, 过多的指标导致普通图形难以显示所有, 而垂直布局的方式则能够避免该问.

<img src="https://github.com/user-attachments/assets/bbea729a-f02b-4876-abe7-73dab1cfb3ba" width="500" />

- 为了帮助用户探索政府出台的政策或大型事件对LCDU造成的影响, 我们提供事件小倍图, 以此显示不同城市的低碳发展水平和影响因素在2010-2019年的变化情. 
- 不同城市共享相同的Y轴, 城市每年的影响因素由多个小倍图组成. 每个饼图包含了正驱动力和负驱动力, 鼠标悬浮在饼图上可放大查看. 每条X轴上方和下方的区域面积图表示LCDU变化情况, 当对指标值进行修改, 下方区域面积图将会呈现变化便于对比.
- 我们以横向条形图的编码方式表示事件, 具体来说, 粉色代表省级政策, 绿色代表市级政策或地方性大型活动, 起始点表示事件的开始时间, 我们支持用户输入事件关键词搜索该事件同时对哪些城市造成了影响. 

## 案例验证：
- - -

### case01: 城市群空间格局和城市关系探索
<img src="https://github.com/user-attachments/assets/d61920ad-35ed-4639-af1e-2dd08862684e" width="990" />

城市群空间格局探索. 考虑到数据可获得性以及LCDVis的广泛普适性, 本文选取62个具有代表性的城市进行探索, 其中包括中国东部地区和西部地区以及中西部地区的城市. 我们对2019年城市群空间格局进行分析, 图7A显示, 2019年H-H集群(图7a)较为集中, 主要分布于长三角洲地区, 山东半岛地区以及江苏河南山东安徽四省交界处, H-L(图7b)集群主要位于江淮地区, L-H(图7c)则位于山东半岛西部相邻位置, L-L集群(图7d)主要聚集于江苏北部和安徽南部地区.

这与我国的发展格局较为相似, 如长三角地区和山东半岛区域因为独特的地理特征, 因此具备水运、海运等条件, 随着经济结构不断优化政策不断推进, 相对其他地区发展更为迅速, 而江苏河南山东安徽交汇处地处平原地区, 地理位置优越, 是跨省合作的关键. 皖南地区和苏北革命老区由于历史原因和地势缺陷, 使得低碳发展受到了一定限制, 但是又靠近发展迅速的山东半岛和沿海地区城市, 容易形成L-H和H-L空间分布模式. 

### case02: 城市群特征探索
<img src="https://github.com/user-attachments/assets/a91fa015-7c63-42ca-b8a0-0edf2d872ea5" width="990" />

我们通过分析H-H集群的特征画像(图8A1) 发现, 环境因素对城市群低碳发展水平的促进作用普遍较高, 其中, PGLA的正向驱动力最大. 经济因素对城市群低碳发展的阻碍作用最强, 经济因素里的GPC和GDP是主要制约因素. L-L集群中( 图8B1) , 交通因素下的NPC是促进城市低碳发展的重要因素, 与H-H集群相同的是经济对城市群低碳发展的制约作用最强, 其中TIAV和GPC占比最大. 为了更好解释上述分析结果, 我们从H-H集群和L-L集群选取10个城市进行探索(图8C) . H-H集群内的城市(图8C1) , 潍坊、临沂、黄山的环境因素对LCDU起主要促进作用, 经济抑制了淮北、连云港等城市的低碳发展. L-L集群中(图8C2) , 青岛、威海、镇江等城市的交通指标对低碳发展的促进作用占比最大, 而经济的抑制作用普遍居高. 结合实际情况我们可知, 2011年是 “十二五”开局之年, 全球经济低迷, 社会发展面临严峻挑战, 经济成为阻碍城市低碳发展的重要因素. 潍坊、临沂等地积极建设城市园林绿化, 其中潍坊更是被赋予 “国家级园林城市”的称号, 环境对其低碳发展起到一定促进作用. 青岛、威海等地属于沿海城市, 2011年国家积极促进港口协调发展, 有序推进码头建设, 交通提高了当地的低碳发展水平. 

影响因素关联程度分析. 2011年H-H集群中的PGLA和L-L集群中的NPC对低碳发展正向驱动力较强, 因此我们以这两个指标为例, 分析探索它们与其他影响因素的关联程度. 图8A2显示H-H集群中, 2011年PGLA和FV的关联程度最大, 表明当他们协同作用时, 低碳发展水平提升效果最明显, 同时他们的关联程度具有先下降直到2014年再上升的趋势(图8a). 值得注意的是, PGLA与PCEC关联程度在2012年和2015年同时两年呈现最强状态. 与此同时, 2011年L-L集群中(图8B2) , NPC与CFR的关联程度最大, 同时2015年和2017年也表现为最大, 也具有先降后升的趋势(图8b) . 

### case03: 城市对比分析
<img src="https://github.com/user-attachments/assets/3d0293a5-feae-4db8-a54a-378833c1a70e" width="990" />

2010-2016泰州市的低碳发展水平较为平稳, 2017年出现骤增, 同时经济的负向驱动力在2015年减弱. 2010-2013聊城市低碳发展水平较为平稳, 2014年出现骤增, 同年, 能源的正向驱动力开始增强. 2010-2012威海市低碳发展水平较为平稳, 2013年出现骤增, 能源的正向驱动力在2014年增强. 我们分析变化发生时的事件：2013年, “泰州市启动实施重点城建项目130个”, 2015年, “全市实施亿元以上产业项目119个”, 上述信息均来自泰州市人民政府办公厅发布. 重点城建项目的实施可以改善城市基础设施, 提高城市的功能性和便利性, 亿元以上的产业项目可以促进泰州市产业结构的优化和升级, 这对泰州市经济发展起到了一定的推进作用, 因此经济对城市低碳发展水平的阻碍减弱. 2012年, 威海市人民政府办公厅公布：“威海市13个项目被列入山东省新能源产业发展专项资金扶持名单”, 2013年, 山东省发布了《关于加快发展节能环保产业的实施意见》, 2014年, 公布了“燃煤电厂超低排放改造试点工作正式启动”的通知, 同年, 聊城市人民政府实施了“119个节能项目”. 上述举措促进了能源的清洁化、高效化, 为聊城市和威海市的可持续发展奠定了基础. 

聊城市2019年经济因素对LCDU的抑制作用显著(图9a) , 我们调整该市的SIAV(图9b) 指标, 2020年城市低碳发展水平量化值将在原来预测值基础上进一步增加(图9c) , 说明聊城市可以在推动产业结构优化、加强人力资源培养方面加大投入, 克服经济带来的抑制作用. 


